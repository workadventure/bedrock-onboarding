import"./modulepreload-polyfill-3cfb730f.js";window.onload=async()=>{try{const t=await WA.player.state.checklist,n=await WA.player.state.checkpointIds;m(t,n)}catch(t){console.error("Error fetching todos from WA API:",t)}};function m(t,n){const o=g(n);document.querySelectorAll('input[name="filter"]').forEach(d=>{d.addEventListener("change",()=>l(t,o,d.value))}),l(t,o)}function l(t,n,o="notDone"){const r=document.querySelector(".all-count");r.textContent=t.length.toString();const d=t.filter(e=>e.done).length,c=document.querySelector(".done-count");c.textContent=d.toString();const a=t.filter(e=>!e.done).length,u=document.querySelector(".not-done-count");u.textContent=a.toString();const f=o==="done"?t.filter(e=>e.done):o==="notDone"?t.filter(e=>!e.done):t,s=document.querySelector(".todo-list");s.innerHTML="",f.forEach(e=>{const i=document.createElement("li");i.classList.add("todo-item"),e.done&&i.classList.add("done"),e.id===n&&i.classList.add("next"),i.textContent=e.title,s.appendChild(i)})}function g(t){if(t.length===1&&t[0]==="0")return"1";const n=t.map(Number);n.sort((d,c)=>d-c);let o=n.indexOf(1);if(o===-1)return"-1";let r=o;for(;r+1<n.length&&n[r+1]===n[r]+1;)r++;return(n[r]+1).toString()}
